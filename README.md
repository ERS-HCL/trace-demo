# trace-demo
Spring Cloud Sleuth and Zipkin sample to demonstrate distributed tracing for Microservices

## Startup Steps
1) Install Zipkin
See instructions from http://zipkin.io/pages/quickstart

2) The application consists of 5 SpringBoot applications 

TraceDemoApplication - Frontend
CartService - Cart Microservice
CustomerService - Customer management Microservice
OrderService - Order Microservice

To run it from the command line execute the following steps on different command prompts

mvn spring-boot:run -Dmainclass=com.tfg.example.TraceDemoApplication
mvn spring-boot:run -Dmainclass=com.tfg.example.service.CartService
mvn spring-boot:run -Dmainclass=com.tfg.example.service.CustomerService
mvn spring-boot:run -Dmainclass=com.tfg.example.service.OrderService

Or use STS or IntelliJ to import the project and start each of these SpringBoot microservices

3) Use Postman or the browser and execute the following URL

http://localhost:8080/cart-checkout

The response will be something like the one mentioned below (where the orderID is randomly generated by the OrderService)

{
  "id": 1,
  "lineItem": [
    {
      "id": 1,
      "sku": "abc"
    }
  ],
  "orderId": "74493906-b46d-4155-aa1f-1c0c47c20260",
  "checkedOut": true
}
